
$version=1.0
$arch=x64

IF os == "windows"
    $so=windows
ENDIF
IF os != "windows"
    $so=linux
ENDIF

$proj_name=xutest

compiler=g++
archiver=ar
output.file.name=lib$(proj_name).a

src.dir=src
build.dir=build/$(proj_name)-$(version)-$(so)-$(arch)

bin.dir=bin/Release
obj.dir=obj/Release/archive
compiler.params=-Wall -O2 -std=c++17
archiver.params=

task copy after
    mkdir -p lib/$(so)
    cp $(build.dir)/$(output.file.name) lib/$(so)/$(output.file.name)
endtask